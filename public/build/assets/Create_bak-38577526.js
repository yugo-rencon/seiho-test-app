import{x as q,p as V,j as k,h as x,o as s,f as a,d as i,i as c,k as E,b as t,E as m,F as _,q as p,t as n,e as g,m as M}from"./app-c9c0d017.js";import{g as S}from"./common-1ae50ed3.js";const U=["onSubmit"],B=t("br",null,null,-1),D=t("br",null,null,-1),T=t("br",null,null,-1),w=["value"],A=t("br",null,null,-1),F=t("br",null,null,-1),I=t("br",null,null,-1),L=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"商品名"),t("th",null,"金額"),t("th",null,"数量"),t("th",null,"小計")])],-1),N=["onUpdate:modelValue"],P=["value"],j=t("br",null,null,-1),C=t("br",null,null,-1),z=t("button",null,"登録する",-1),J={__name:"Create_bak",props:{customers:Array,items:Array},setup(h){const y=h;q(()=>{u.date=S(),y.items.forEach(l=>{r.value.push({id:l.id,name:l.name,price:l.price,quantity:0})})});const r=V([]),u=k({date:null,customer_id:null,status:!0,items:[]}),b=x(()=>{let l=0;return r.value.forEach(o=>{l+=o.price*o.quantity}),l}),v=()=>{r.value.forEach(l=>{l.quantity>0&&u.items.push({id:l.id,quantity:l.quantity})}),M.Inertia.post(route("purchases.store"),u)},f=["0","1","2","3","4","5","6","7","8","9"];return(l,o)=>(s(),a("form",{onSubmit:g(v,["prevent"])},[i(" 日付"),B,c(t("input",{type:"date",name:"date","onUpdate:modelValue":o[0]||(o[0]=e=>u.date=e)},null,512),[[E,u.date]]),D,i(" 会員名"),T,c(t("select",{name:"customer","onUpdate:modelValue":o[1]||(o[1]=e=>u.customer_id=e)},[(s(!0),a(_,null,p(h.customers,e=>(s(),a("option",{value:e.id,key:e.id},n(e.id)+" : "+n(e.name),9,w))),128))],512),[[m,u.customer_id]]),A,F,i(" 商品・サービス"),I,t("table",null,[L,t("tbody",null,[(s(!0),a(_,null,p(r.value,e=>(s(),a("tr",null,[t("td",null,n(e.id),1),t("td",null,n(e.name),1),t("td",null,n(e.price),1),t("td",null,[c(t("select",{name:"quantity","onUpdate:modelValue":d=>e.quantity=d},[(s(),a(_,null,p(f,d=>t("option",{value:d},n(d),9,P)),64))],8,N),[[m,e.quantity]])]),t("td",null,n(e.price*e.quantity),1)]))),256))])]),j,i(" 合計："+n(b.value)+" 円",1),C,z],40,U))}};export{J as default};
